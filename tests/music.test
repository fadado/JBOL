#########################################################################
# Music
#
# Tests are groups of three lines: program, input, expected output.
# Blank lines and lines starting with # are ignored.
#########################################################################

#########################################################################
# pitch class

include "music/pitch-class"; [range(60;72) | pitch_class]
null
[0,1,2,3,4,5,6,7,8,9,10,11]

include "music/pitch-class"; pc_invert(0)
2
10

include "music/pitch-class"; pc_invert(0)
10
2

include "music/pitch-class"; pc_in([range(12)])
7
true

include "music/pitch-class"; pc_in([range(6)])
7
false

# Diatonic pitch classes are in chromatic set
include "music/pitch-class"; [.[] | pc_in([range(12)])] | all
[0,2,4,5,7,9,11]
true

# Sharp pitch classes are not in diatonic set
include "music/pitch-class"; [.[] | pc_in([0,2,4,5,7,9,11]) | not] | all
[1,3,6,8,10]
true

include "music/pitch-class"; [range(60;72) | pitch_class | pc_tostring]
null
["0","1","2","3","4","5","6","7","8","9","t","e"]

include "music/pitch-class"; [.[] | pc_tonumber]
["0","1","2","3","4","5","6","7","8","9","t","e"]
[0,1,2,3,4,5,6,7,8,9,10,11]

# vim:ai:sw=2:ts=2:et:syntax=jq
